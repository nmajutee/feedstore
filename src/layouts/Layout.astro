---
import EnquiryModal from '../components/EnquiryModal.astro';
import CookieConsent from '../components/CookieConsent.astro';

interface Props {
  title: string;
  description?: string;
  image?: string;
  schema?: object;
  canonical?: string;
  type?: 'website' | 'article' | 'product';
}

const { 
  title, 
  description = "Premium quality livestock feed for healthier, faster-growing animals. AgroPro offers a wide range of nutrition solutions for poultry, cattle, pigs, and more.",
  image = "/images/logo.png",
  schema,
  canonical = new URL(Astro.url.pathname, Astro.site).href,
  type = 'website'
} = Astro.props;

const jsonLd = schema ? JSON.stringify(schema) : null;
---

<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      
      <!-- SEO metas -->
      <title>{title}</title>
      <meta name="description" content={description}>
      <meta name="author" content="AgroPro">
      <link rel="canonical" href={canonical} />
      <link rel="sitemap" href="/sitemap-index.xml" />

      <!-- Open Graph / Facebook -->
      <meta property="og:type" content={type} />
      <meta property="og:url" content={canonical} />
      <meta property="og:title" content={title} />
      <meta property="og:description" content={description} />
      <meta property="og:image" content={new URL(image, Astro.site)} />

      <!-- Twitter -->
      <meta property="twitter:card" content="summary_large_image" />
      <meta property="twitter:url" content={canonical} />
      <meta property="twitter:title" content={title} />
      <meta property="twitter:description" content={description} />
      <meta property="twitter:image" content={new URL(image, Astro.site)} />

      <!-- Schema.org JSON-LD -->
      {jsonLd && <script type="application/ld+json" set:html={jsonLd} />}

      <!-- Google Fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

      <!-- bootstrap css -->
      <link rel="stylesheet" href="/css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="/css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="/css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="/images/fevicon.png" type="image/gif" />
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="/css/owl.carousel.min.css">
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="/css/bootstrap-datepicker.min.css">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
   </head>
   <!-- body -->
   <body class="main-layout">
      <slot />

      <EnquiryModal />
      <CookieConsent />

      <!-- Javascript files-->
      <script is:inline src="/js/jquery.min.js"></script>
      <script is:inline src="/js/bootstrap.bundle.min.js"></script>
      <script is:inline src="/js/jquery-3.0.0.min.js"></script>
      <script is:inline src="/js/owl.carousel.min.js"></script>
      <script is:inline src="/js/bootstrap-datepicker.min.js"></script>
      <script is:inline src="/js/custom.js"></script>
   </body>
</html>

<style is:global>
   /* Global Mobile Optimizations */
   :root {
      --primary-color: #264653;
      --secondary-color: #e9c46a;
      --accent-color: #2a9d8f;
      --text-color: #333;
      --bg-light: #f8f9fa;
   }

   html {
      scroll-behavior: smooth;
   }

   body {
      font-family: 'Open Sans', sans-serif;
      color: var(--text-color);
      overflow-x: hidden; /* Prevent horizontal scroll */
   }

   h1, h2, h3, h4, h5, h6 {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      color: var(--primary-color);
   }

   /* Responsive Typography */
   @media (max-width: 768px) {
      h1 { font-size: 2.5rem !important; }
      h2 { font-size: 2rem !important; }
      h3 { font-size: 1.5rem !important; }
      p { font-size: 1rem !important; line-height: 1.6 !important; }

      .container {
         padding-left: 20px !important;
         padding-right: 20px !important;
      }
   }
</style>
